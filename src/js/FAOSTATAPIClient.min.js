define(["jquery","loglevel","q","amplify"],function(a,b,c){"use strict";function d(){}return d.prototype.config=function(b){this.CONFIG={base_url:"http://fenixervices.fao.org/faostat/api/v1/",mode:"@@mode",lang:"en",log:!1},this.CONFIG=a.extend(!0,{},this.CONFIG,b||{})},d.prototype.rankings=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_rankings_defaults(d),this.is_valid_rankings(d)){var e=this.CONFIG.base_url+d.lang+"/rankings/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,domain_codes:d.domain_codes,List1Codes:d.List1Codes,List2Codes:d.List2Codes,List3Codes:d.List3Codes,List4Codes:d.List4Codes,List5Codes:d.List5Codes,List6Codes:d.List6Codes,List7Codes:d.List7Codes,filter_list:d.filter_list,rank_type:d.rank_type,limit:d.limit},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"POST"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_rankings=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","domain_codes","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","filter_list","rank_type","limit"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_rankings_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","domain_codes","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","filter_list","rank_type","limit"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en",rank_type:"ASC",limit:"5"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.data=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_data_defaults(d),this.is_valid_data(d)){var e=this.CONFIG.base_url+d.lang+"/data/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,pivot:d.pivot,domain_codes:d.domain_codes,decimal_places:d.decimal_places,filters:d.filters,null_values:d.null_values,group_by:d.group_by,order_by:d.order_by,operator:d.operator,page_size:d.page_size,limit:d.limit,page_number:d.page_number,show_codes:d.show_codes,show_flags:d.show_flags,show_unit:d.show_unit},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:JSON.stringify(f),contentType:"application/json",type:"POST"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_data=function(a){return!0},d.prototype.apply_data_defaults=function(a){var b,c,d=["lang","data_bean"],e={lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.databean=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_databean_defaults(d),this.is_valid_databean(d)){var e=this.CONFIG.base_url+d.lang+"/data/bean/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,pivot:d.pivot,domain_codes:d.domain_codes,decimal_places:d.decimal_places,List1Codes:d.List1Codes,List2Codes:d.List2Codes,List3Codes:d.List3Codes,List4Codes:d.List4Codes,List5Codes:d.List5Codes,List6Codes:d.List6Codes,List7Codes:d.List7Codes,List1AltCodes:d.List1AltCodes,List2AltCodes:d.List2AltCodes,List3AltCodes:d.List3AltCodes,List4AltCodes:d.List4AltCodes,List5AltCodes:d.List5AltCodes,List6AltCodes:d.List6AltCodes,List7AltCodes:d.List7AltCodes,null_values:d.null_values,group_by:d.group_by,order_by:d.order_by,operator:d.operator,page_size:d.page_size,limit:d.limit,page_number:d.page_number,show_codes:d.show_codes,show_flags:d.show_flags,show_unit:d.show_unit},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"POST"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_databean=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","pivot","domain_codes","decimal_places","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","List1AltCodes","List2AltCodes","List3AltCodes","List4AltCodes","List5AltCodes","List6AltCodes","List7AltCodes","null_values","group_by","order_by","operator","page_size","limit","page_number","show_codes","show_flags","show_unit"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_databean_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","pivot","domain_codes","decimal_places","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","List1AltCodes","List2AltCodes","List3AltCodes","List4AltCodes","List5AltCodes","List6AltCodes","List7AltCodes","null_values","group_by","order_by","operator","page_size","limit","page_number","show_codes","show_flags","show_unit"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en",pivot:"false",decimal_places:"2",List1AltCodes:"",List2AltCodes:"",List3AltCodes:"",List4AltCodes:"",List5AltCodes:"",List6AltCodes:"",List7AltCodes:"",null_values:"false",group_by:"",order_by:"",operator:"",page_size:"100",limit:"-1",page_number:"1",show_codes:"1",show_flags:"1",show_unit:"1"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.data_get=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_data_get_defaults(d),this.is_valid_data_get(d)){var e=this.CONFIG.base_url+d.lang+"/data/"+d.domain+"/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,pivot:d.pivot,domain_codes:d.domain_codes,decimal_places:d.decimal_places,null_values:d.null_values,group_by:d.group_by,order_by:d.order_by,operator:d.operator,page_size:d.page_size,limit:d.limit,page_number:d.page_number,show_codes:d.show_codes,show_flags:d.show_flags,show_unit:d.show_unit},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_data_get=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","pivot","domain_codes","decimal_places","null_values","group_by","order_by","operator","page_size","limit","page_number","show_codes","show_flags","show_unit"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_data_get_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","pivot","domain_codes","decimal_places","null_values","group_by","order_by","operator","page_size","limit","page_number","show_codes","show_flags","show_unit"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en",pivot:"false",decimal_places:"2",null_values:"false",group_by:"",order_by:"",operator:"",page_size:"100",limit:"-1",page_number:"1",show_codes:"1",show_flags:"1",show_unit:"1"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.reportheaders=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_reportheaders_defaults(d),this.is_valid_reportheaders(d)){var e=this.CONFIG.base_url+d.lang+"/report/headers/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,domain_code:d.domain_code,report_code:d.report_code,List1Codes:d.List1Codes,List2Codes:d.List2Codes,List3Codes:d.List3Codes,List4Codes:d.List4Codes,List5Codes:d.List5Codes,List6Codes:d.List6Codes,List7Codes:d.List7Codes,List1AltCodes:d.List1AltCodes,List2AltCodes:d.List2AltCodes,List3AltCodes:d.List3AltCodes,List4AltCodes:d.List4AltCodes,List5AltCodes:d.List5AltCodes,List6AltCodes:d.List6AltCodes,List7AltCodes:d.List7AltCodes},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"POST"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_reportheaders=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","domain_code","report_code","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","List1AltCodes","List2AltCodes","List3AltCodes","List4AltCodes","List5AltCodes","List6AltCodes","List7AltCodes"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_reportheaders_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","domain_code","report_code","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","List1AltCodes","List2AltCodes","List3AltCodes","List4AltCodes","List5AltCodes","List6AltCodes","List7AltCodes"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en",report_code:"download"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.reportdata=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_reportdata_defaults(d),this.is_valid_reportdata(d)){var e=this.CONFIG.base_url+d.lang+"/report/data/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,domain_code:d.domain_code,report_code:d.report_code,List1Codes:d.List1Codes,List2Codes:d.List2Codes,List3Codes:d.List3Codes,List4Codes:d.List4Codes,List5Codes:d.List5Codes,List6Codes:d.List6Codes,List7Codes:d.List7Codes,List1AltCodes:d.List1AltCodes,List2AltCodes:d.List2AltCodes,List3AltCodes:d.List3AltCodes,List4AltCodes:d.List4AltCodes,List5AltCodes:d.List5AltCodes,List6AltCodes:d.List6AltCodes,List7AltCodes:d.List7AltCodes},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"POST"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_reportdata=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","domain_code","report_code","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","List1AltCodes","List2AltCodes","List3AltCodes","List4AltCodes","List5AltCodes","List6AltCodes","List7AltCodes"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_reportdata_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","domain_code","report_code","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","List1AltCodes","List2AltCodes","List3AltCodes","List4AltCodes","List5AltCodes","List6AltCodes","List7AltCodes"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en",report_code:"download"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.datasize=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_datasize_defaults(d),this.is_valid_datasize(d)){var e=this.CONFIG.base_url+d.lang+"/datasize/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,domain_codes:d.domain_codes,List1Codes:d.List1Codes,List2Codes:d.List2Codes,List3Codes:d.List3Codes,List4Codes:d.List4Codes,List5Codes:d.List5Codes,List6Codes:d.List6Codes,List7Codes:d.List7Codes,no_records:d.no_records,null_values:d.null_values},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"POST"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_datasize=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","domain_codes","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","no_records","null_values"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_datasize_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","domain_codes","List1Codes","List2Codes","List3Codes","List4Codes","List5Codes","List6Codes","List7Codes","no_records","null_values"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en",no_records:"1",null_values:"false"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.groupsanddomains=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_groupsanddomains_defaults(d),this.is_valid_groupsanddomains(d)){var e=this.CONFIG.base_url+d.lang+"/groupsanddomains",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,section:d.section},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_groupsanddomains=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","section"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_groupsanddomains_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","section"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en",section:"download"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.dimensions=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_dimensions_defaults(d),this.is_valid_dimensions(d)){var e=this.CONFIG.base_url+d.lang+"/dimensions/"+d.domain_code+"/",f={datasource:d.datasource,output_type:d.output_type,report_code:d.report_code,api_key:d.api_key,client_key:d.client_key,full:d.full},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_dimensions=function(a){var b,c=["datasource","output_type","report_code","api_key","client_key","lang","domain_code","full"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_dimensions_defaults=function(a){var b,c,d=["datasource","output_type","report_code","api_key","client_key","lang","domain_code","full"],e={datasource:"production",output_type:"objects",report_code:"download",api_key:"n.a.",client_key:"n.a.",lang:"en",full:"false"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.codes=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_codes_defaults(d),this.is_valid_codes(d)){var e=this.CONFIG.base_url+d.lang+"/codes/"+d.id+"/"+d.domain_code+"/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,report_code:d.report_code,domains:d.domains,whitelist:d.whitelist,blacklist:d.blacklist,show_lists:d.show_lists},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_codes=function(a){var b,c=["datasource","output_type","api_key","client_key","domain_code","report_code","lang","id","domains","whitelist","blacklist","show_lists"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_codes_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","domain_code","report_code","lang","id","domains","whitelist","blacklist","show_lists"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",report_code:"download",lang:"en",domains:"[]",whitelist:"[]",blacklist:"[]",show_lists:"true"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.groups=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_groups_defaults(d),this.is_valid_groups(d)){var e=this.CONFIG.base_url+d.lang+"/groups/",f={datasource:d.datasource,whitelist:d.whitelist,blacklist:d.blacklist,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_groups=function(a){var b,c=["datasource","whitelist","blacklist","output_type","api_key","client_key","lang"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_groups_defaults=function(a){var b,c,d=["datasource","whitelist","blacklist","output_type","api_key","client_key","lang"],e={datasource:"production",whitelist:"[]",blacklist:"[]",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.domains=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_domains_defaults(d),this.is_valid_domains(d)){var e=this.CONFIG.base_url+d.lang+"/domains/"+d.group_code+"/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,whitelist:d.whitelist,blacklist:d.blacklist},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_domains=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","group_code","whitelist","blacklist"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_domains_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","group_code","whitelist","blacklist"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en",whitelist:"[]",blacklist:"[]"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.bulkdownloads=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_bulkdownloads_defaults(d),this.is_valid_bulkdownloads(d)){var e=this.CONFIG.base_url+d.lang+"/bulkdownloads/"+d.domain_code+"/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_bulkdownloads=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","domain_code"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_bulkdownloads_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","domain_code"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.documents=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_documents_defaults(d),this.is_valid_documents(d)){var e=this.CONFIG.base_url+d.lang+"/documents/"+d.domain_code+"/",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_documents=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","domain_code"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_documents_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","domain_code"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.suggestions=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_suggestions_defaults(d),this.is_valid_suggestions(d)){var e=this.CONFIG.base_url+d.lang+"/suggestions",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,q:d.q},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_suggestions=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","q"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_suggestions_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","q"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.search=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_search_defaults(d),this.is_valid_search(d)){var e=this.CONFIG.base_url+d.lang+"/search",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key,q:d.q},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_search=function(a){var b,c=["datasource","output_type","api_key","client_key","lang","q"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_search_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang","q"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.metadata=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_metadata_defaults(d),this.is_valid_metadata(d)){var e=this.CONFIG.base_url+d.lang+"/metadata/"+d.domain_code,f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_metadata=function(a){var b,c=["datasource","output_type","api_key","client_key","lang"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_metadata_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.definitions_types=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_definitions_types_defaults(d),this.is_valid_definitions_types(d)){var e=this.CONFIG.base_url+d.lang+"/definitions/types",f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_definitions_types=function(a){var b,c=["datasource","output_type","api_key","client_key","lang"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_definitions_types_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.definitions_by_type=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_definitions_by_type_defaults(d),this.is_valid_definitions_by_type(d)){var e=this.CONFIG.base_url+d.lang+"/definitions/types/"+d.type,f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_definitions_by_type=function(a){var b,c=["datasource","output_type","api_key","client_key","lang"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_definitions_by_type_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.definitions_domain=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_definitions_domain_defaults(d),this.is_valid_definitions_domain(d)){var e=this.CONFIG.base_url+d.lang+"/definitions/domain/"+d.domain_code,f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_definitions_domain=function(a){var b,c=["datasource","output_type","api_key","client_key","lang"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_definitions_domain_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.definitions_domain_by_type=function(b){var d=a.extend(!0,{},this.CONFIG,b||{});if(d=this.apply_definitions_domain_by_type_defaults(d),this.is_valid_definitions_domain_by_type(d)){var e=this.CONFIG.base_url+d.lang+"/definitions/domain/"+d.domain_code+"/"+d.type,f={datasource:d.datasource,output_type:d.output_type,api_key:d.api_key,client_key:d.client_key},g=this,h=JSON.stringify(a.extend({url:e},f)),i=this.store(h);return void 0===i?c(a.ajax({url:e,traditional:!0,data:f,type:"GET"})).then(function(a){try{g.store(h,a)}catch(b){}return a}):c.when(i)}throw 400},d.prototype.is_valid_definitions_domain_by_type=function(a){var b,c=["datasource","output_type","api_key","client_key","lang"];for(b=0;b<c.length;b+=1)if(void 0===a[c[b]])throw'Parameter "'+c[b]+'" is undefined. Please check your request.';return!0},d.prototype.apply_definitions_domain_by_type_defaults=function(a){var b,c,d=["datasource","output_type","api_key","client_key","lang"],e={datasource:"production",output_type:"objects",api_key:"n.a.",client_key:"n.a.",lang:"en"};for(b=0;b<Object.keys(e).length;b+=1)"[]"===e[Object.keys(e)[b]]&&(e[Object.keys(e)[b]]=[]);for(b=0;b<d.length;b+=1){c=d[b];try{a[c]=void 0!==a[c]?a[c]:e[c]}catch(f){}}return a},d.prototype.store=function(a,c){if(!this.CONFIG.hasOwnProperty("mode")||"dev"!==this.CONFIG.mode){var d=3e5;return void 0!==c?(this.CONFIG.log&&b.info("Stored",a),amplify.store(a,c,d)):(this.CONFIG.log&&b.info("Get Stored",a),amplify.store(a))}},new d});